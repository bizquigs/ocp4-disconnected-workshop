= Accessing the Cluster

You should be able to access the API server from the *highside* system by leveraging the `kubeconfig` file the installer creates for you:

[source,bash,role=execute]
----
export KUBECONFIG=/mnt/high-side/install/auth/kubeconfig
oc status
----

Example output:

[source,bash,role=execute]
----
In project default on server https://api.disco.lab:6443

svc/openshift - kubernetes.default.svc.cluster.local
svc/kubernetes - 172.30.0.1:443 -> 6443

View details with 'oc describe <resource>/<name>' or list resources with 'oc get all'.
----

== Accessing the Web Console

. Now you should be able to access the console in the VNC session running on the *jump* system:
[source,bash,role=execute]
----
oc whoami --show-console
----

image::console.png[console]

Success!

Now the cluster's up and we can successfully access it.

== What's next?

There's much work to be done after the initial installation.
As a cluster administrator, you need to be mindful of how to manage operators, upgrades, patching, configuration, and much more.

== GLUE

== Post-Install Cluster Configuration

Now that we have a cluster up and running (or we are using the pre-made salsa.lab cluster) we can perform some
post-install steps that are specific to a disconnected environment.

image::disco-4.svg[disco diagram,800]

First, lets log in to our cluster

[cols="a,a",options="header"]
|===
| Using the pre-baked `salsa.lab`
| Using the lab-provisioned `disco.lab`

|
[source,bash,role=execute]
----
ssh salsa-registry
oc login https://api.salsa.lab:6443
----
|
[source,bash,role=execute]
----
ssh highside
oc login https://api.disco.lab:6443
----

|
* *Username:* kubeadmin
* *Password:* (in `cluster/auth/kubeadmin-password`)
|
* *Username:* admin
* *Password:* admin
|===

== Add our custom catalog source
// https://docs.openshift.com/container-platform/4.14/installing/installing_aws/installing-restricted-networks-aws-installer-provisioned.html#olm-restricted-networks-operatorhub_installing-restricted-networks-aws-installer-provisioned

TODO

== Deploy a operator

TODO

// == Add images with `podman`
// https://docs.openshift.com/container-platform/4.14/post_installation_configuration/cluster-tasks.html#post-install-must-gather-disconnected

// == Remove default samples operator
// https://docs.openshift.com/container-platform/4.14/openshift_images/configuring-samples-operator.html#configuring-samples-operator

== Update cluster

TODO
